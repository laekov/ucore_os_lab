Lab8 实验报告
===
## 练习零
略
## 练习一
### 读文件
读的是磁盘上连续的一段, 但是可能不是整个块.

所以要对开始和结束的块单独处理.

具体对块的操作是先用 `sfs_bmap_load_nolock` 把块里的东西读到内存里的缓冲区. 然后用 `sfs_buf_op` 把缓冲区里的东西放到指定的内存区域 `buf`. 处理完第一个之后挨个往后处理, 最后一个再特殊处理一下就行. 最特殊的情况是只有一个块而且还不连续.
### pipe
相当于将上一个程序的 `stdout` 和下一个程序的 `stdin` 给接起来. `load_nolock` 可以什么都不做, 然后在 `buf_op` 的时候读写到一个类似于字符队列的数据结构里.
## 练习二
### proc 功能
主要是将文件加载到进程的内存空间里. 各种边界和权限的判断比较麻烦.
### 软连接
作为一种特殊的文件格式, 拥有软链接的特殊标志位. 文件内容是一个绝对路径.
### 硬链接
直接将目录项的文件 fd 指向被链接的文件索引, 并增加它的引用记数.